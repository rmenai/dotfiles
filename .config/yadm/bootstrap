#!/bin/bash

if command -v sudo &> /dev/null
then
  SUDO="sudo"
else
  SUDO=""
  echo "sudo could not be found. Running commands without sudo."
fi

${SUDO} apt install -y zsh neovim tmux

echo "Installing Oh My Posh..."
curl -s https://ohmyposh.dev/install.sh | bash -s -- -d /usr/bin
chmod a+x /usr/bin/oh-my-posh

if ! chsh -s $(which zsh); then
  echo "Failed to set zsh as the default shell. You may need to run chsh manually."
else
  echo "zsh has been set as the default shell."
fi

echo "Configuring Git..."
git config --global init.defaultBranch main
git config --global user.name "Rami Menai"
git config --global user.email "rami@menai.me"

echo "Setup completed successfully!"
